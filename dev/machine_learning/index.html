<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Gerard Lab-X</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg0:#06080b;
      --bg1:#0b1016;
      --text:#e8edf6;

      --accent:#ea5a28;
      --cyan:#9bf7ff;

      --good:#4ade80;
      --lab:#ff4d4d;

      --shadow: 0 28px 78px rgba(0,0,0,.58);
      --shadow2: 0 18px 46px rgba(0,0,0,.42);

      --r: 22px;

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial;
      --gothic: "Cinzel Decorative", serif;

      --ease: cubic-bezier(.2,.9,.2,1);
      --ease2: cubic-bezier(.16,1,.3,1);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 18% -10%, rgba(155,247,255,.16), transparent 60%),
        radial-gradient(900px 500px at 102% 0%, rgba(234,90,40,.20), transparent 56%),
        radial-gradient(900px 600px at 40% 110%, rgba(255,255,255,.08), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    body:before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
      opacity:.06;
      mix-blend-mode:overlay;
    }

    a{color:inherit; text-decoration:none}
    button{font-family:inherit}

    /* Background grid */
    .labFx{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:40;
      contain: paint;
    }
    .labFx .grid{
      position:absolute; inset:0;
      background:
        linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
      background-size: 56px 56px;
      opacity:.10;
    }

    /* Smooth floating drone */
    .droneWrap{
      position:fixed;
      left: -260px;
      top: clamp(90px, 18vh, 180px);
      width: 320px;
      height: 150px;
      z-index:70;
      pointer-events:none;
      will-change: transform;
      animation: orbit 12.8s linear infinite;
      filter:
        drop-shadow(0 30px 70px rgba(0,0,0,.72))
        drop-shadow(0 0 46px rgba(155,247,255,.18))
        drop-shadow(0 0 40px rgba(234,90,40,.14));
    }
    .droneFloat{
      width:100%;
      height:100%;
      will-change: transform;
      animation: bob 2.9s ease-in-out infinite;
    }
    .droneSway{
      width:100%;
      height:100%;
      will-change: transform;
      animation: sway 4.4s ease-in-out infinite;
    }
    @keyframes orbit{
      0%   { transform: translateX(-240px); }
      100% { transform: translateX(calc(100vw + 240px)); }
    }
    @keyframes bob{
      0%{ transform: translateY(0px); }
      50%{ transform: translateY(10px); }
      100%{ transform: translateY(0px); }
    }
    @keyframes sway{
      0%{ transform: rotate(-1.2deg) scale(1.04); }
      50%{ transform: rotate(1.2deg) scale(1.06); }
      100%{ transform: rotate(-1.2deg) scale(1.04); }
    }
    .droneGlow{
      animation: glowPulse 2.6s var(--ease) infinite;
      transform-origin: 50% 50%;
    }
    @keyframes glowPulse{
      0%{ opacity:.78; filter:saturate(1.1) }
      50%{ opacity:1; filter:saturate(1.55) }
      100%{ opacity:.78; filter:saturate(1.1) }
    }

    /* ENTER / LOADING */
    .enter{
      position: fixed; inset:0;
      z-index: 10000;
      background:
        radial-gradient(1200px 700px at 30% 0%, rgba(155,247,255,.12), transparent 60%),
        radial-gradient(900px 700px at 100% 20%, rgba(234,90,40,.12), transparent 60%),
        linear-gradient(180deg, rgba(6,8,11,.98), rgba(11,16,22,.96));
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      opacity:1;
      pointer-events:auto;
      transition: opacity .55s var(--ease2);
    }
    .enter.off{ opacity:0; pointer-events:none; }

    /* Obvious open animation overlay */
    .reveal{
      position: fixed; inset:0;
      z-index: 9998;
      pointer-events:none;
      opacity:0;
      display:grid;
      place-items:center;
      background:
        radial-gradient(900px 520px at 50% 42%, rgba(155,247,255,.20), transparent 60%),
        radial-gradient(980px 520px at 50% 64%, rgba(234,90,40,.12), transparent 60%),
        rgba(6,8,11,.10);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: opacity .42s var(--ease2);
    }
    .reveal.on{ opacity:1; }
    .reveal .burst{
      width: min(860px, 92vw);
      aspect-ratio: 16 / 9;
      border-radius: 26px;
      border: 1px solid rgba(255,255,255,.24);
      background: rgba(14,18,24,.55);
      box-shadow: 0 48px 120px rgba(0,0,0,.66);
      position:relative;
      overflow:hidden;
      transform: scale(.92);
      opacity:0;
      animation: none;
    }
    .reveal.on .burst{
      animation: burstIn .72s var(--ease2) forwards;
    }
    @keyframes burstIn{
      0%{ transform: scale(.88); opacity:0; filter: blur(6px) saturate(1.2); }
      65%{ transform: scale(1.02); opacity:1; filter: blur(0px) saturate(1.2); }
      100%{ transform: scale(1.00); opacity:1; filter: blur(0px) saturate(1.0); }
    }
    .reveal .burst:before{
      content:"";
      position:absolute; inset:-40%;
      background: conic-gradient(from 200deg,
        transparent,
        rgba(155,247,255,.18),
        transparent,
        rgba(255,255,255,.16),
        transparent,
        rgba(234,90,40,.14),
        transparent
      );
      animation: spin 1.1s linear infinite;
      opacity:.92;
    }
    .reveal .burst:after{
      content:"";
      position:absolute; inset:0;
      background:
        linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,0) 24%),
        radial-gradient(680px 220px at 18% 0%, rgba(155,247,255,.18), transparent 60%),
        radial-gradient(680px 220px at 100% 16%, rgba(234,90,40,.14), transparent 58%);
      opacity:.85;
      pointer-events:none;
    }
    .reveal .stamp{
      position:relative;
      z-index:2;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 14px;
      color: rgba(255,255,255,.96);
      text-shadow: 0 26px 68px rgba(0,0,0,.60);
    }
    .reveal .stamp .mark{
      width: 58px; height: 58px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.26);
      background:
        radial-gradient(12px 12px at 30% 30%, rgba(155,247,255,.82), transparent 70%),
        radial-gradient(12px 12px at 70% 60%, rgba(234,90,40,.92), transparent 70%),
        rgba(255,255,255,.06);
      box-shadow: 0 28px 72px rgba(0,0,0,.40);
    }
    .reveal .stamp .txt{
      display:flex; flex-direction:column;
      line-height:1.05;
    }
    .reveal .stamp .txt b{
      font-family: var(--gothic);
      font-size: 30px;
      letter-spacing: .9px;
      white-space: nowrap;
    }
    .reveal .stamp .txt span{
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(232,237,246,.70);
      letter-spacing:.22px;
      margin-top: 4px;
    }

    .enter-grid{
      position:absolute; inset:0;
      background:
        linear-gradient(to right, rgba(255,255,255,.07) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.07) 1px, transparent 1px);
      background-size: 44px 44px;
      opacity:.15;
      animation: gridDrift 7.8s var(--ease2) infinite alternate;
    }
    @keyframes gridDrift{
      0%{ transform: translate3d(0,0,0) scale(1); opacity:.12 }
      100%{ transform: translate3d(-10px, 12px,0) scale(1.02); opacity:.18 }
    }
    .enter-vignette{
      position:absolute; inset:-10%;
      background:
        radial-gradient(closest-side at 50% 50%, rgba(0,0,0,0), rgba(0,0,0,.76) 70%, rgba(0,0,0,.94) 100%);
      opacity:.9;
      pointer-events:none;
    }

    .frame{
      position:absolute;
      left:50%; top:50%;
      transform: translate(-50%,-50%);
      width: min(520px, 80vw);
      aspect-ratio: 1 / 1;
      pointer-events:none;
      opacity:.94;
      filter: drop-shadow(0 18px 44px rgba(0,0,0,.45));
    }
    .corner{
      position:absolute;
      width: 58px; height: 58px;
      border: 2px solid rgba(255,255,255,.70);
      opacity:.96;
    }
    .c1{left:0; top:0; border-right:none; border-bottom:none; border-top-left-radius: 18px;}
    .c2{right:0; top:0; border-left:none; border-bottom:none; border-top-right-radius: 18px;}
    .c3{left:0; bottom:0; border-right:none; border-top:none; border-bottom-left-radius: 18px;}
    .c4{right:0; bottom:0; border-left:none; border-top:none; border-bottom-right-radius: 18px;}

    .sweep{
      position:absolute;
      left:50%; top:50%;
      transform: translate(-50%,-50%);
      width: min(520px, 80vw);
      height: min(520px, 80vw);
      border-radius: 22px;
      overflow:hidden;
      pointer-events:none;
      opacity:.92;
    }
    .sweep:before{
      content:"";
      position:absolute; left:0; right:0;
      height: 30px;
      top: -30px;
      background: linear-gradient(180deg, rgba(255,255,255,.00), rgba(255,255,255,.22), rgba(255,255,255,.00));
      animation: sweep 2.35s var(--ease2) infinite;
      opacity:.95;
    }
    @keyframes sweep{
      0%{ transform: translateY(0); opacity:.0}
      12%{opacity:.88}
      50%{opacity:.95}
      88%{opacity:.88}
      100%{ transform: translateY(calc(min(520px, 80vw) + 30px)); opacity:.0}
    }

    .enter-core{
      width: min(760px, 92vw);
      padding: 20px;
      position:relative;
      z-index: 2;
    }
    .enter-badge{
      display:flex; align-items:center; justify-content:center;
      gap:12px;
      margin-bottom: 14px;
      opacity:0;
      transform: translateY(12px);
      animation: riseIn .95s var(--ease2) .22s forwards;
    }
    @keyframes riseIn{ to{ opacity:1; transform: translateY(0) } }
    @keyframes spin{to{transform:rotate(360deg)}}

    .brand-badge{
      width: 46px; height: 46px;
      border-radius: 16px;
      background:
        radial-gradient(12px 12px at 30% 30%, rgba(155,247,255,.82), transparent 70%),
        radial-gradient(12px 12px at 70% 60%, rgba(234,90,40,.92), transparent 70%),
        linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.07));
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: var(--shadow2);
      position:relative;
      overflow:hidden;
    }
    .brand-badge:after{
      content:"";
      position:absolute; inset:-60%;
      background: conic-gradient(from 190deg, transparent, rgba(155,247,255,.28), transparent, rgba(234,90,40,.26), transparent);
      animation: spin 6.5s linear infinite;
      opacity:.78;
    }

    .enter-title{ line-height:1.05; text-align:left; }
    .enter-title .t1{
      font-family: var(--gothic);
      font-weight: 700;
      font-size: 32px;
      letter-spacing: .9px;
      color: rgba(255,255,255,.98);
      white-space: nowrap;
      text-shadow:
        0 18px 46px rgba(0,0,0,.60),
        0 0 44px rgba(155,247,255,.10),
        0 0 34px rgba(234,90,40,.08);
    }
    .enter-title .t2{
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(232,237,246,.62);
      letter-spacing: .22px;
      margin-top: 4px;
      white-space: nowrap;
    }

    .enter-panel{
      border-radius: 24px;
      background: rgba(14,18,24,.70);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .enter-panel:before{
      content:"";
      position:absolute; inset:0;
      pointer-events:none;
      background:
        radial-gradient(820px 260px at 18% 0%, rgba(155,247,255,.12), transparent 60%),
        radial-gradient(720px 260px at 100% 18%, rgba(234,90,40,.12), transparent 58%);
      opacity:.60;
    }
    .enter-panel-inner{ position:relative; padding: 16px 16px 14px; }

    .enter-kicker{
      display:flex; align-items:center; gap:10px;
      font-family: var(--mono);
      font-size: 12px;
      letter-spacing: .28px;
      color: rgba(255,255,255,.90);
      margin-bottom: 10px;
      opacity:0;
      transform: translateY(10px);
      animation: riseIn 1.0s var(--ease2) .40s forwards;
    }

    .dot{
      width:7px; height:7px;
      border-radius:50%;
      background: rgba(74, 222, 128, .95);
      box-shadow: 0 0 0 6px rgba(74, 222, 128, .10);
      animation: pulse 2.1s var(--ease) infinite;
      flex: 0 0 auto;
    }
    .dot.lab{
      background: rgba(255, 77, 77, .96);
      box-shadow: 0 0 0 6px rgba(255, 77, 77, .12);
    }
    @keyframes pulse{
      0%{ transform: scale(1); opacity:.82 }
      45%{ transform: scale(1.25); opacity:1 }
      100%{ transform: scale(1); opacity:.82 }
    }

    .enter-h1{
      margin: 0 0 8px;
      font-weight: 860;
      letter-spacing:.22px;
      font-size: 22px;
      opacity:0;
      transform: translateY(12px);
      animation: riseIn 1.05s var(--ease2) .52s forwards;
    }
    .enter-sub{
      margin: 0 0 14px;
      color: rgba(232,237,246,.75);
      line-height: 1.55;
      font-size: 14px;
      opacity:0;
      transform: translateY(12px);
      animation: riseIn 1.05s var(--ease2) .64s forwards;
    }

    .enter-bar{
      height: 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      overflow:hidden;
      margin: 10px 0 12px;
      opacity:0;
      transform: translateY(10px);
      animation: riseIn 1.05s var(--ease2) .76s forwards;
      box-shadow:
        0 10px 26px rgba(0,0,0,.38),
        0 0 0 1px rgba(255,255,255,.10) inset;
    }
    .enter-bar i{
      display:block;
      height:100%;
      width: 0%;
      background:
        linear-gradient(90deg,
          rgba(255,255,255,.14),
          rgba(255,255,255,.98),
          rgba(234,90,40,.80),
          rgba(255,255,255,.98)
        );
      border-radius: 999px;
      filter: saturate(1.2);
      box-shadow:
        0 0 30px rgba(255,255,255,.16),
        0 0 48px rgba(234,90,40,.16);
      position:relative;
    }
    .enter-bar i:after{
      content:"";
      position:absolute; inset:-60px -40px;
      background: radial-gradient(closest-side at 40% 50%, rgba(255,255,255,.38), transparent 70%);
      opacity:.26;
      animation: shimmer 1.25s linear infinite;
    }
    @keyframes shimmer{
      0%{ transform: translateX(-18%); }
      100%{ transform: translateX(18%); }
    }

    .enter-footer{
      margin-top: 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      flex-wrap:wrap;
      opacity:0;
      transform: translateY(10px);
      animation: riseIn 1.0s var(--ease2) 1.05s forwards;
    }
    .hint{
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(232,237,246,.58);
    }
    .kbd{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      border-radius: 10px;
      padding: 6px 10px;
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(232,237,246,.70);
    }
    .tapEnter{
      margin-left:auto;
      border:none;
      cursor:pointer;
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(234,90,40,.22);
      color: rgba(232,237,246,.92);
      border: 1px solid rgba(255,255,255,.36);
      transition: transform .16s var(--ease), background .16s var(--ease), border-color .16s var(--ease);
      user-select:none;
      box-shadow:
        0 18px 42px rgba(0,0,0,.30),
        0 0 54px rgba(234,90,40,.16);
    }
    .tapEnter:hover{ transform: translateY(-1px); background: rgba(234,90,40,.28); border-color: rgba(255,255,255,.44); }
    .tapEnter:active{ transform: translateY(0); }

    /* TOP BAR */
    .topbar{
      position:sticky; top:0;
      z-index:80;
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      background: rgba(6,8,11,.56);
      border-bottom: 1px solid rgba(255,255,255,.14);
    }
    .topbar-inner{
      width:min(1180px, 92vw);
      margin:0 auto;
      padding: 14px 0;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
    }

    .brand{
      display:flex; align-items:center; gap:12px;
      user-select:none;
      min-width: 160px;
    }
    .brand-title{
      display:flex;
      flex-direction:column;
      line-height:1.03;
      min-width: 0;
    }
    .brand-title .t1{
      font-family: var(--gothic);
      font-weight: 700;
      letter-spacing: .9px;
      font-size: 24px;
      color: rgba(255,255,255,.98);
      white-space: nowrap;
      text-shadow:
        0 20px 58px rgba(0,0,0,.62),
        0 0 46px rgba(155,247,255,.10),
        0 0 36px rgba(234,90,40,.08);
    }
    .brand-title .t2{
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(232,237,246,.62);
      letter-spacing: .22px;
      margin-top: 2px;
      white-space: nowrap;
    }

    .controls{
      display:flex; align-items:center; gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .btn{
      border:none;
      cursor:pointer;
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(255,255,255,.09);
      color: rgba(232,237,246,.92);
      border: 1px solid rgba(255,255,255,.26);
      transition: transform .16s var(--ease), background .16s var(--ease), border-color .16s var(--ease), filter .16s var(--ease), box-shadow .16s var(--ease);
      user-select:none;
      box-shadow: 0 14px 32px rgba(0,0,0,.22);
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.11);
      border-color: rgba(255,255,255,.36);
      filter: saturate(1.08);
      box-shadow:
        0 16px 38px rgba(0,0,0,.26),
        0 0 28px rgba(255,255,255,.06);
    }
    .btn:active{transform: translateY(0)}
    .btn.primary{
      background: rgba(234,90,40,.22);
      border-color: rgba(255,255,255,.38);
      box-shadow:
        0 18px 42px rgba(0,0,0,.30),
        0 0 54px rgba(234,90,40,.16);
    }

    /* HOME */
    .container{
      width:min(1180px, 92vw);
      margin: 0 auto;
      padding: 18px 0 84px;
      position:relative;
      z-index:10;

      opacity:0;
      transform: translateY(18px) scale(.99);
      filter: blur(6px);
      transition: opacity .8s var(--ease2), transform .8s var(--ease2), filter .8s var(--ease2);
    }
    .container.open{
      opacity:1;
      transform: translateY(0) scale(1);
      filter: blur(0);
    }

    .hero{ padding: 22px 0 10px; }
    .hero-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
      align-items:stretch;
    }

    .card{
      border-radius: var(--r);
      background: rgba(14,18,24,.70);
      border: 1px solid rgba(255,255,255,.30);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .card:after{
      content:"";
      position:absolute; inset:0;
      pointer-events:none;
      background: linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,0) 26%);
      opacity:.30;
    }
    .card-inner{ position:relative; padding: 18px; }

    .kicker{
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(255,255,255,.92);
      letter-spacing:.28px;
      margin-bottom: 10px;
      display:flex; align-items:center; gap:10px;
    }

    .h1{
      font-size: 30px;
      letter-spacing: .2px;
      margin: 0 0 10px;
      font-weight: 880;
      text-shadow: 0 20px 52px rgba(0,0,0,.55);
    }
    .sub{
      margin: 0 0 16px;
      color: rgba(232,237,246,.76);
      font-size: 14px;
      line-height: 1.6;
      max-width: 64ch;
    }

    .cta-row{ display:flex; gap: 10px; flex-wrap:wrap; margin-top: 14px; }

    .stats{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 12px;
    }
    .stat{
      border-radius: 16px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.22);
      padding: 10px 12px;
      box-shadow: 0 16px 40px rgba(0,0,0,.22);
    }
    .stat .n{ font-size: 18px; font-weight: 900; letter-spacing:.2px; }
    .stat .l{ font-size: 12px; color: rgba(232,237,246,.66); margin-top: 2px; }

    .gridWrap{
      margin-top: 12px;
      position:relative;
      padding: 6px 0 0;
    }
    .gridWrap:before{
      content:"";
      position:absolute;
      inset:-18px -10px -12px -10px;
      border-radius: 28px;
      background:
        radial-gradient(540px 260px at 22% 12%, rgba(155,247,255,.10), transparent 65%),
        radial-gradient(520px 260px at 82% 32%, rgba(234,90,40,.10), transparent 65%),
        repeating-linear-gradient(0deg, rgba(255,255,255,.06) 0 1px, transparent 1px 36px);
      opacity:.35;
      pointer-events:none;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
      position:relative;
      z-index:2;
    }
    @media (max-width: 980px){ .grid{grid-template-columns: repeat(2, 1fr)} }
    @media (max-width: 620px){ .grid{grid-template-columns: 1fr} }

    /* Base card (IN LAB look): always white outline */
    .p-card{
      border-radius: var(--r);
      background: rgba(255,255,255,.065);
      border: 3px solid rgba(255,255,255,.78);
      box-shadow:
        0 26px 70px rgba(0,0,0,.44),
        0 0 0 2px rgba(255,255,255,.10) inset;
      overflow:hidden;
      cursor:pointer;
      position:relative;
      transform: translateZ(0);
      transition: transform .24s var(--ease2), background .24s var(--ease2), box-shadow .24s var(--ease2), filter .24s var(--ease2), border-color .24s var(--ease2);
      will-change: transform;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    /* Only the small circle border changes red for lab */
    .statusDot{
      width: 10px; height: 10px;
      border-radius: 999px;
      border: 2px solid rgba(255,255,255,.72);
      background: rgba(255,255,255,.10);
      box-shadow: 0 0 0 6px rgba(255,255,255,.06);
      flex: 0 0 auto;
    }
    .statusDot.lab{
      border-color: rgba(255,77,77,.95);
      box-shadow: 0 0 0 6px rgba(255,77,77,.10);
    }

    /* GOOD TO GO cards match the clean panel style (like the removed “Launch Verified Tools” card) */
    .p-card.good{
      background: rgba(14,18,24,.70);
      border: 1px solid rgba(255,255,255,.30);
      box-shadow: var(--shadow);
    }

    .p-card:after{
      content:"";
      position:absolute; inset:0;
      pointer-events:none;
      background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,0) 26%);
      opacity:.24;
    }

    .p-card:hover{
      transform: translateY(-10px) scale(1.02);
      background: rgba(255,255,255,.085);
      filter: saturate(1.08);
      box-shadow:
        0 34px 92px rgba(0,0,0,.48),
        0 0 0 2px rgba(255,255,255,.12) inset;
    }

    .p-card.good:hover{
      transform: translateY(-10px) scale(1.02);
      background: rgba(14,18,24,.78);
      border-color: rgba(255,255,255,.36);
      filter: saturate(1.08);
      box-shadow:
        0 40px 104px rgba(0,0,0,.52),
        0 0 0 1px rgba(255,255,255,.10) inset;
    }

    .p-head{
      padding: 14px 14px 10px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 10px;
      position:relative;
      z-index:1;
    }

    .statusHud{
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(232,237,246,.88);
      padding: 6px 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.26);
      background: rgba(0,0,0,.14);
      white-space:nowrap;
      box-shadow: 0 16px 34px rgba(0,0,0,.26);
      letter-spacing: .18px;
      text-align:right;
      min-width: 124px;
    }
    .statusHud small{
      display:block;
      font-size: 10px;
      color: rgba(232,237,246,.62);
      margin-top: 2px;
      letter-spacing:.12px;
    }

    .p-title{ margin: 0; font-size: 16px; font-weight: 900; letter-spacing: .18px; }
    .p-desc{ margin: 8px 0 0; font-size: 13px; line-height: 1.55; color: rgba(232,237,246,.78); }

    .specs{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .spec{
      display:flex;
      gap: 8px;
      align-items:center;
      padding: 8px 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      box-shadow: 0 12px 26px rgba(0,0,0,.18);
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(232,237,246,.76);
      white-space:nowrap;
    }
    .spec b{
      color: rgba(255,255,255,.92);
      font-weight: 700;
      letter-spacing:.12px;
    }

    .p-foot{
      padding: 12px 14px 14px;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 10px;
      border-top: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.12);
      position:relative;
      z-index:1;
    }

    .go{
      display:flex; align-items:center; gap: 8px;
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(255,255,255,.92);
      user-select:none;
    }
    .arrow{
      width: 18px; height: 18px;
      border-radius: 8px;
      display:grid; place-items:center;
      border: 1px solid rgba(255,255,255,.28);
      background: rgba(255,255,255,.08);
      box-shadow: 0 12px 26px rgba(0,0,0,.24);
      transition: transform .22s var(--ease2);
    }
    .p-card:hover .arrow{ transform: translateX(3px); }

    .progRow{
      margin-top: 10px;
      display:flex;
      align-items:center;
      gap: 10px;
    }
    .progPill{
      font-family: var(--mono);
      font-size: 11px;
      letter-spacing:.18px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.24);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.88);
      white-space:nowrap;
      display:flex;
      align-items:center;
      gap: 8px;
    }
    .prog{
      flex:1;
      height: 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.16);
      overflow:hidden;
      box-shadow: 0 12px 28px rgba(0,0,0,.22);
    }
    .prog i{
      display:block;
      height:100%;
      width: 0%;
      background: linear-gradient(90deg, rgba(255,255,255,.22), rgba(255,255,255,.92), rgba(234,90,40,.72), rgba(255,255,255,.92));
      border-radius: 999px;
    }

    .io{
      opacity:0;
      transform: translateY(14px);
      transition: opacity .95s var(--ease2), transform .95s var(--ease2);
    }
    .io.in{ opacity:1; transform: translateY(0); }

    .footer{
      margin-top: 18px;
      padding: 16px 0 0;
      color: rgba(232,237,246,.54);
      font-size: 12px;
      display:flex;
      justify-content:space-between;
      gap: 10px;
      flex-wrap:wrap;
      position:relative;
      z-index:2;
    }

    /* MODAL */
    .modal{
      position:fixed; inset:0;
      z-index:9999;
      display:none;
      place-items:center;
      padding: 18px;
      background: rgba(0,0,0,.58);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .modal.on{ display:grid; }
    .modalCard{
      width: min(580px, 92vw);
      border-radius: 22px;
      background: rgba(14,18,24,.92);
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 34px 98px rgba(0,0,0,.62);
      overflow:hidden;
      position:relative;
    }
    .modalCard:before{
      content:"";
      position:absolute; inset:0;
      pointer-events:none;
      background:
        radial-gradient(700px 220px at 18% 0%, rgba(255,255,255,.16), transparent 60%),
        radial-gradient(700px 220px at 100% 12%, rgba(234,90,40,.10), transparent 58%);
      opacity:.90;
    }
    .modalCard.lab:before{
      background:
        radial-gradient(700px 220px at 18% 0%, rgba(255,77,77,.18), transparent 60%),
        radial-gradient(700px 220px at 100% 12%, rgba(234,90,40,.10), transparent 58%);
    }

    .modalInner{ position:relative; padding: 16px; }
    .modalKicker{
      display:flex; align-items:center; gap:10px;
      font-family: var(--mono);
      color: rgba(255,255,255,.92);
      font-size: 12px;
      letter-spacing:.26px;
      margin-bottom: 8px;
    }
    .modalKicker .statusDot{ width: 10px; height:10px; border-width:2px; box-shadow:none; }
    .modalTitle{
      margin: 0 0 6px;
      font-size: 18px;
      font-weight: 900;
      letter-spacing:.18px;
    }
    .modalBody{
      margin: 0 0 12px;
      color: rgba(232,237,246,.74);
      line-height: 1.6;
      font-size: 14px;
    }
    .modalRow{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-top: 10px;
      padding-top: 12px;
      border-top: 1px solid rgba(255,255,255,.12);
    }
    .modalMeta{
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(232,237,246,.62);
    }
    .modalBtn{
      border:none;
      cursor:pointer;
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(255,255,255,.09);
      color: rgba(232,237,246,.92);
      border: 1px solid rgba(255,255,255,.26);
      transition: transform .16s var(--ease), background .16s var(--ease), border-color .16s var(--ease);
      user-select:none;
    }
    .modalBtn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.11); border-color: rgba(255,255,255,.34); }
    .modalBtn:active{ transform: translateY(0); }
    .modalBtn.primary{
      background: rgba(234,90,40,.22);
      border-color: rgba(255,255,255,.38);
      box-shadow:
        0 18px 42px rgba(0,0,0,.30),
        0 0 54px rgba(234,90,40,.14);
    }

    @media (max-width: 520px){
      .container{ padding-bottom: 104px; }
      .card-inner{ padding: 16px; }
      .h1{ font-size: 26px; }
      .topbar-inner{ padding: 12px 0; }
      .brand-badge{ width: 42px; height: 42px; }
      .brand-title .t1{ font-size: 22px; }
      .droneWrap{ width: 300px; height: 140px; }
    }

    @media (prefers-reduced-motion: reduce){
      *{ animation:none !important; transition:none !important; scroll-behavior:auto !important; }
      .enter{ display:none !important; }
      .reveal{ display:none !important; }
      .container{ opacity:1 !important; transform:none !important; filter:none !important; }
      .io{ opacity:1 !important; transform:none !important; }
      .droneWrap{ display:none !important; }
    }
  </style>
</head>

<body>
  <div class="labFx" aria-hidden="true"><div class="grid"></div></div>

  <!-- Smooth floating drone -->
  <div class="droneWrap" aria-hidden="true">
    <div class="droneFloat">
      <div class="droneSway">
        <svg viewBox="0 0 260 120" width="100%" height="100%">
          <defs>
            <linearGradient id="droneCore" x1="0" x2="1">
              <stop offset="0" stop-color="#9bf7ff"/>
              <stop offset="0.38" stop-color="#a78bfa"/>
              <stop offset="0.70" stop-color="#f59e0b"/>
              <stop offset="1" stop-color="#ea5a28"/>
            </linearGradient>
            <radialGradient id="orbA" cx="40%" cy="35%" r="70%">
              <stop offset="0" stop-color="rgba(155,247,255,.95)"/>
              <stop offset="1" stop-color="rgba(155,247,255,.00)"/>
            </radialGradient>
            <radialGradient id="orbB" cx="55%" cy="45%" r="70%">
              <stop offset="0" stop-color="rgba(167,139,250,.92)"/>
              <stop offset="1" stop-color="rgba(167,139,250,.00)"/>
            </radialGradient>
            <radialGradient id="orbC" cx="60%" cy="60%" r="70%">
              <stop offset="0" stop-color="rgba(245,158,11,.92)"/>
              <stop offset="1" stop-color="rgba(245,158,11,.00)"/>
            </radialGradient>
            <radialGradient id="orbD" cx="55%" cy="60%" r="70%">
              <stop offset="0" stop-color="rgba(234,90,40,.92)"/>
              <stop offset="1" stop-color="rgba(234,90,40,.00)"/>
            </radialGradient>
          </defs>

          <g class="droneGlow">
            <rect x="68" y="40" width="124" height="44" rx="16" fill="rgba(14,18,24,.92)" stroke="rgba(255,255,255,.46)" stroke-width="1.8" />
            <rect x="84" y="52" width="92" height="20" rx="10" fill="rgba(255,255,255,.10)" stroke="rgba(255,255,255,.28)" stroke-width="1.2" />
            <circle cx="92" cy="62" r="4.1" fill="#4ade80"/>
            <circle cx="168" cy="62" r="4.1" fill="#f59e0b"/>
            <rect x="22" y="52" width="62" height="10" rx="5" fill="rgba(255,255,255,.12)" stroke="rgba(255,255,255,.26)" stroke-width="1.2"/>
            <rect x="176" y="52" width="62" height="10" rx="5" fill="rgba(255,255,255,.12)" stroke="rgba(255,255,255,.26)" stroke-width="1.2"/>
            <circle cx="34" cy="57" r="13" fill="rgba(255,255,255,.06)" stroke="rgba(255,255,255,.26)" stroke-width="1.2"/>
            <circle cx="226" cy="57" r="13" fill="rgba(255,255,255,.06)" stroke="rgba(255,255,255,.26)" stroke-width="1.2"/>
            <path d="M18 57h32" stroke="url(#droneCore)" stroke-width="4.8" stroke-linecap="round" />
            <path d="M210 57h32" stroke="url(#droneCore)" stroke-width="4.8" stroke-linecap="round" />
            <path d="M130 84c-26 0-46 10-62 26" stroke="rgba(155,247,255,.30)" stroke-width="3.6" stroke-linecap="round"/>
            <path d="M130 84c26 0 46 10 62 26" stroke="rgba(234,90,40,.22)" stroke-width="3.6" stroke-linecap="round"/>
            <path d="M130 84v28" stroke="url(#droneCore)" stroke-width="4.0" stroke-linecap="round"/>
            <circle cx="110" cy="56" r="22" fill="url(#orbA)" opacity=".70"/>
            <circle cx="140" cy="56" r="22" fill="url(#orbB)" opacity=".62"/>
            <circle cx="120" cy="66" r="24" fill="url(#orbC)" opacity=".52"/>
            <circle cx="150" cy="66" r="24" fill="url(#orbD)" opacity=".48"/>
          </g>
        </svg>
      </div>
    </div>
  </div>

  <!-- LOADING -->
  <div id="enter" class="enter" aria-hidden="false">
    <div class="enter-grid" aria-hidden="true"></div>
    <div class="enter-vignette" aria-hidden="true"></div>

    <div class="frame" aria-hidden="true">
      <div class="corner c1"></div><div class="corner c2"></div><div class="corner c3"></div><div class="corner c4"></div>
    </div>
    <div class="sweep" aria-hidden="true"></div>

    <div class="enter-core">
      <div class="enter-badge">
        <div class="brand-badge"></div>
        <div class="enter-title">
          <div class="t1">Gerard Lab-X</div>
          <div class="t2">ROBOTICS • VISION • SYSTEMS</div>
        </div>
      </div>

      <div class="enter-panel">
        <div class="enter-panel-inner">
          <div class="enter-kicker"><span class="dot"></span> SYSTEM READY</div>
          <h1 class="enter-h1">Lab Interface Online</h1>
          <p class="enter-sub">Modules indexed. Optics and control surfaces are standing by.</p>

          <div class="enter-bar"><i id="enterFill"></i></div>

          <div class="enter-footer">
            <div class="hint">Tap to enter.</div>
            <button id="tapEnter" class="tapEnter" type="button">Enter Lab</button>
            <div class="kbd" id="enterPct">0%</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- REVEAL OVERLAY -->
  <div id="reveal" class="reveal" aria-hidden="true">
    <div class="burst">
      <div class="stamp">
        <div class="mark"></div>
        <div class="txt">
          <b>Gerard Lab-X</b>
          <span>INTERFACE UNLOCKED</span>
        </div>
      </div>
    </div>
  </div>

  <!-- TOP BAR -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="brand-badge" aria-hidden="true"></div>
        <div class="brand-title">
          <div class="t1">Gerard Lab-X</div>
          <div class="t2">ROBOTICS • VISION • SYSTEMS</div>
        </div>
      </div>

      <div class="controls">
        <button id="systemBtn" class="btn primary" type="button">System Check</button>
        <a id="contactLink" class="btn" href="mailto:stevensongerardeustache@outlook.com">Contact</a>
      </div>
    </div>
  </div>

  <!-- HOME -->
  <div id="container" class="container" aria-hidden="false">
    <section class="hero">
      <div class="hero-grid">
        <div class="card">
          <div class="card-inner">
            <div class="kicker"><span class="dot"></span> STATUS: GOOD TO GO</div>
            <h1 class="h1">Gerard Lab-X Modules</h1>
            <p class="sub">Two builds are verified and ready: Scan Items In Room and DERMA-SHIELD. Everything else is being assembled in the lab.</p>

            <div class="stats">
              <div class="stat"><div id="statTotal" class="n">—</div><div class="l">Modules</div></div>
              <div class="stat"><div id="statActive" class="n">—</div><div class="l">Good to go</div></div>
              <div class="stat"><div id="statLab" class="n">—</div><div class="l">In lab</div></div>
            </div>
          </div>
        </div>
      </div>

      <div class="gridWrap">
        <div id="grid" class="grid"></div>
      </div>
    </section>

    <div class="footer">
      <div>© <span id="year"></span> Gerard Lab-X</div>
      <div>GOOD TO GO cards use clean panel style • IN LAB cards keep white outline • Lab dot turns red</div>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div id="modalCard" class="modalCard">
      <div class="modalInner">
        <div class="modalKicker">
          <span id="modalDot" class="statusDot"></span>
          <span id="modalKickerText">STATUS</span>
        </div>
        <h3 class="modalTitle" id="modalTitle">Module</h3>
        <p class="modalBody" id="modalBody">Details</p>
        <div class="modalRow">
          <div class="modalMeta" id="modalMeta">META</div>
          <div style="display:flex; gap:10px; flex-wrap:wrap;">
            <button id="modalPrimary" class="modalBtn primary" type="button" style="display:none;">Enter</button>
            <button id="modalClose" class="modalBtn" type="button">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const CONTACT_EMAIL = "stevensongerardeustache@outlook.com";

    const LINKS = {
      eagelsEye: "https://agentggg.github.io/public_sites/dev/machine_learning/facial_recognition.html",
      objectDiscovery: "https://agentggg.github.io/public_sites/dev/machine_learning/object_recognition.html",
      skinHands: "https://agentggg.github.io/public_sites/dev/machine_learning/hand_recognition.html",
      gestureReaction: "https://agentggg.github.io/public_sites/dev/machine_learning/gesture_recognition.html"
    };

    const MODULES = [
      {
        id: "items",
        title: "DISCOVERY",
        domain: "Vision AI",
        signature: "Room Inventory",
        desc: "Scan items in a room and return a structured list with confidence and bounding regions.",
        status: "live",
        href: LINKS.objectDiscovery,
        popup: {
          title: "DISCOVERY",
          body: "Uses live camera frames to detect and label objects in a room, returning a clean inventory list. Designed for real-time scanning and fast feedback."
        }
      },
      {
        id: "hands",
        title: "ATLAS-VIEW",
        domain: "Vision AI",
        signature: "Skin + Hands",
        desc: "Skin and hand visual pipeline for recognition, segmentation, and feature capture.",
        status: "live",
        href: LINKS.skinHands,
        popup: {
          title: "DERMA-SHIELD",
          body: "Detects hands and skin regions and prepares them for analysis. Built for consistent framing, stable capture, and future biometric expansion."
        }
      },
      {
        id: "eyes",
        title: "EAGLE EYE",
        domain: "Vision AI",
        signature: "Identity Lock",
        desc: "Real-time facial detection and identification with stabilization, confidence scoring, and jitter reduction.",
        status: "live",
        href: LINKS.eagelsEye,
        popup: {
          title: "EAGLE EYE - PROD",
          body: "Facial recognition: stabilized, confidence-gated face tracking for accurate real-time identification"
        }
      },
      {
        id: "hands",
        title: "X-LABS-REACTION",
        domain: "Systems",
        signature: "Reaction Response",
        desc: "Real-time gesture command interpretation and response execution layer.",
        status: "live",
        href: LINKS.gestureReaction,
        popup: {
          title: "GESTURE-RESPONSE (In Lab)",
          body: "Processes validated gesture signals and triggers corresponding system actions. Built for precision control, safety enforcement, and low-latency reaction handling."
        }
      },
      {
        id: "horizon",
        title: "HORIZON-SENTRY",
        domain: "Systems",
        signature: "Perimeter Scan",
        desc: "Environment mapping and hazard detection pipeline.",
        status: "lab",
        progress: 16,
        href: null,
        popup: {
          title: "HORIZON-SENTRY (In Lab)",
          body: "Mapping and hazard detection module to track obstacles, edges, and risk zones. Planned output: a simplified threat grid for autonomous decisions."
        }
      },
      {
        id: "tracker",
        title: "SKYLINE-TRACKER",
        domain: "Vision AI",
        signature: "Target Lock",
        desc: "Object tracking + confidence stabilization (prototype).",
        status: "lab",
        progress: 42,
        href: null,
        popup: {
          title: "SKYLINE-TRACKER (In Lab)",
          body: "Facial recognition: stabilized, confidence-gated face tracking for accurate real-time identification"
        }
      }
    ];

    const $ = (id) => document.getElementById(id);
    const clamp = (n,min,max) => Math.max(min, Math.min(max, n));

    function wireIntersectionObserver(){
      const items = document.querySelectorAll(".io");
      const io = new IntersectionObserver((entries) => {
        entries.forEach((en) => {
          if (en.isIntersecting){
            en.target.classList.add("in");
            io.unobserve(en.target);
          }
        });
      }, { threshold: 0.12 });
      items.forEach(el => io.observe(el));
    }

    function openModal({ mode, title, body, meta, primaryLabel, primaryAction }){
      const modal = $("modal");
      const card  = $("modalCard");
      const dot   = $("modalDot");
      const kicker = $("modalKickerText");
      const btnPrimary = $("modalPrimary");

      $("modalTitle").textContent = title || "Module";
      $("modalBody").textContent  = body  || "Details unavailable.";
      $("modalMeta").textContent  = meta  || "";

      card.classList.remove("lab");
      dot.className = "statusDot";
      btnPrimary.style.display = "none";
      btnPrimary.onclick = null;

      if (mode === "lab"){
        card.classList.add("lab");
        dot.classList.add("lab");
        kicker.textContent = "IN LAB";
      } else {
        kicker.textContent = "GOOD TO GO";
        btnPrimary.style.display = "inline-block";
        btnPrimary.textContent = primaryLabel || "Enter";
        btnPrimary.onclick = () => {
          closeModal();
          if (typeof primaryAction === "function") primaryAction();
        };
      }

      modal.classList.add("on");
      modal.setAttribute("aria-hidden", "false");
      if (navigator.vibrate) navigator.vibrate(10);
    }

    function closeModal(){
      const modal = $("modal");
      modal.classList.remove("on");
      modal.setAttribute("aria-hidden", "true");
    }

    function buildSpecs(m){
      const domain = (m.domain || "Module").toUpperCase();
      const sig = (m.signature || "Core").toUpperCase();
      return `
        <div class="specs">
          <div class="spec"><b>DOMAIN</b> <em>${domain}</em></div>
          <div class="spec"><b>SIGNATURE</b> <em>${sig}</em></div>
        </div>
      `;
    }

    function renderCards(list){
      const grid = $("grid");
      grid.innerHTML = "";

      list.forEach((m) => {
        const isLab = m.status === "lab";
        const isGood = m.status === "live";

        const card = document.createElement("div");
        card.className = "p-card io" + (isGood ? " good" : "");
        card.setAttribute("role", "button");
        card.setAttribute("tabindex", "0");

        const pct = clamp(m.progress ?? (isLab ? 10 : 100), 0, 100);

        const labRow = isLab ? `
          <div class="progRow">
            <span class="progPill"><span class="statusDot lab"></span> IN LAB • ${pct}%</span>
            <div class="prog"><i style="width:${pct}%"></i></div>
          </div>
        ` : `
          <div class="progRow">
            <span class="progPill"><span class="statusDot"></span> READY BUILD</span>
            <div class="prog"><i style="width:100%"></i></div>
          </div>
        `;

        card.innerHTML = `
          <div class="p-head">
            <div>
              <div class="kicker" style="margin-bottom:8px;">
                <span class="dot"></span> ${isLab ? "IN LAB" : "READY BUILD"}
              </div>
              <h3 class="p-title">${m.title}</h3>
              <div class="p-desc">${m.desc}</div>
              ${labRow}
              ${buildSpecs(m)}
            </div>

            <div class="statusHud">
              ${isLab ? "IN LAB" : "READY"}
              <small>${(m.domain || "Module").toUpperCase()}</small>
            </div>
          </div>

          <div class="p-foot">
            <div style="font-family: var(--mono); font-size:11px; color: rgba(232,237,246,.62);">
              ${isLab ? "Prototype build • internal staging" : "Verified build • public launch"}
            </div>
            <div class="go">
              LAUNCH
              <span class="arrow">→</span>
            </div>
          </div>
        `;

        const onActivate = () => {
          const popupTitle = m.popup?.title || m.title;
          const popupBody  = m.popup?.body  || (isLab ? "This module is currently being worked on." : "This module is ready to launch.");

          if (isLab || !m.href){
            openModal({
              mode: "lab",
              title: popupTitle,
              body: popupBody,
              meta: `STATUS: IN LAB • ${pct}%`
            });
            return;
          }

          openModal({
            mode: "good",
            title: popupTitle,
            body: popupBody,
            meta: "STATUS: GOOD TO GO",
            primaryLabel: "Enter",
            primaryAction: () => window.location.href = m.href
          });
        };

        card.addEventListener("click", onActivate);
        card.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") { e.preventDefault(); onActivate(); }
        });

        grid.appendChild(card);
      });

      wireIntersectionObserver();
    }

    // Loading + obvious reveal
    function startBoot(){
      const enter = $("enter");
      const fill = $("enterFill");
      const pct  = $("enterPct");
      const reveal = $("reveal");
      const container = $("container");

      let p = 0;
      const t = setInterval(() => {
        p += (p < 40 ? 1.55 : p < 75 ? 1.18 : 0.92) + Math.random()*0.30;
        if (p > 100) p = 100;

        fill.style.width = p.toFixed(0) + "%";
        pct.textContent  = p.toFixed(0) + "%";

        if (p >= 100){
          clearInterval(t);

          enter.classList.add("off");

          // Force top after the boot (prevents “starting at bottom”)
          window.scrollTo(0, 0);

          setTimeout(() => {
            reveal.classList.add("on");
            reveal.setAttribute("aria-hidden", "false");
          }, 260);

          setTimeout(() => {
            container.classList.add("open");
            window.scrollTo(0, 0);
          }, 420);

          setTimeout(() => {
            reveal.classList.remove("on");
            reveal.setAttribute("aria-hidden", "true");
          }, 1180);

          setTimeout(() => {
            enter.style.display = "none";
            window.scrollTo(0, 0);
          }, 820);
        }
      }, 90);

      const enterNow = () => {
        p = 100;
        fill.style.width = "100%";
        pct.textContent  = "100%";
        // the interval will pick this up and run the completion path
      };

      $("tapEnter").addEventListener("click", enterNow);
    }

    function bootHome(){
      $("year").textContent = String(new Date().getFullYear());
      $("contactLink").href = `mailto:${CONTACT_EMAIL}`;

      const total = MODULES.length;
      const goodCount = MODULES.filter(m => m.status === "live").length;
      const labCount  = MODULES.filter(m => m.status === "lab").length;

      $("statTotal").textContent = String(total);
      $("statActive").textContent = String(goodCount);
      $("statLab").textContent = String(labCount);

      renderCards(MODULES);

      $("systemBtn").addEventListener("click", () => {
        openModal({
          mode: "good",
          title: "System Check",
          body: "Verified builds are armed for launch. In-lab builds are protected and will return a status panel instead of launching.",
          meta: `GOOD TO GO: ${goodCount} • IN LAB: ${labCount}`,
          primaryLabel: "Close",
          primaryAction: () => {}
        });
      });

      $("modalClose").addEventListener("click", closeModal);
      $("modal").addEventListener("click", (e) => { if (e.target === $("modal")) closeModal(); });

      // Keep Escape for desktop users; does not interfere with mobile
      window.addEventListener("keydown", (e) => { if (e.key === "Escape") closeModal(); });

      $("container").classList.remove("open");
      window.scrollTo(0, 0);
    }

    window.addEventListener("load", () => {
      // Ensure we always land at the top on fresh load
      window.scrollTo(0, 0);
      bootHome();
      setTimeout(startBoot, 40);
    });
  </script>
</body>
</html>